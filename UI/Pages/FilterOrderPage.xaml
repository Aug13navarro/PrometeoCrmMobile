<?xml version="1.0" encoding="utf-8" ?>
<Views:MvxContentPage x:TypeArguments="ViewModels:FilterOrdersViewModel"
    xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="UI.Pages.FilterOrderPage"
             xmlns:Views="clr-namespace:MvvmCross.Forms.Views;assembly=MvvmCross.Forms"
                      xmlns:ViewModels="clr-namespace:Core.ViewModels;assembly=Core"
                      xmlns:Controls="clr-namespace:UI.Controls"
                      xmlns:resources="clr-namespace:UI.LangResources"
             >
    <NavigationPage.TitleView>
        <StackLayout
            Orientation="Horizontal">
            <Controls:BackIconToolbar />
            <Label
                HorizontalOptions="FillAndExpand"
                Text="Orders"
                TextColor="White"
                FontSize="Medium"
                VerticalTextAlignment="Center">

            </Label>
            <ImageButton
                WidthRequest="40"
                Padding="0,0,10,0"
                Source="limpiar_blanco.png"
                BackgroundColor="Transparent"
                Command="{Binding LimpiarFiltroCommand}">

            </ImageButton>
        </StackLayout>
    </NavigationPage.TitleView>
    <StackLayout
        Padding="10">
        <Frame HorizontalOptions="Center"
               BorderColor="{StaticResource PrimaryColor}"
               >
            <Grid
                ColumnDefinitions="*,*"
                RowDefinitions="auto,auto,auto,auto">
                <StackLayout Orientation="Horizontal"
                             Grid.Row="0"
                             Grid.ColumnSpan="2">
                    <Label Text="{x:Static resources:AppResources.Company}" Style="{StaticResource DefaultLabel}"
                           VerticalOptions="Center">

                    </Label>
                    <Frame Margin="0" Padding="0"
                           HorizontalOptions="FillAndExpand">
                        <Picker
                            Title="{x:Static resources:AppResources.Company}"
                            ItemsSource="{Binding Companies, Mode=TwoWay}"
                            ItemDisplayBinding="{Binding BusinessName}"
                            SelectedItem="{Binding Company, Mode=TwoWay}">

                        </Picker>
                    </Frame>
                </StackLayout>
                <StackLayout Orientation="Horizontal"
                             Grid.Row="1"
                             Grid.ColumnSpan="2">
                    <Label Text="{x:Static resources:AppResources.State}" Style="{StaticResource DefaultLabel}"
                           VerticalOptions="Center">

                    </Label>
                    <Frame Margin="0" Padding="0" HorizontalOptions="FillAndExpand">
                        <Picker
                            Title="{x:Static resources:AppResources.State}"
                            ItemsSource="{Binding OrderStatuses, Mode=TwoWay}"
                            ItemDisplayBinding="{Binding name}"
                            SelectedItem="{Binding Status, Mode=TwoWay}">

                        </Picker>
                    </Frame>
                </StackLayout>
                <Grid Grid.Row="2"
                      Grid.ColumnSpan="2"
                      HorizontalOptions="Center"
                      RowDefinitions="auto,auto"
                      ColumnDefinitions="auto,auto">
                    <Frame
                        Grid.Row="0"
                        Grid.Column="0"
                        BorderColor="{StaticResource PrimaryColor}"
                        CornerRadius="5">
                        <StackLayout HorizontalOptions="Center">
                            <Label
                                Text="{x:Static resources:AppResources.FromDate}"
                                HorizontalOptions="Center">

                            </Label>
                            <DatePicker
                                Date="{Binding BeginDate}"
                                Format="dd/MM/yyyy"
                                MaximumDate="{Binding MaximumDate}">

                            </DatePicker>
                        </StackLayout>
                    </Frame>
                    <Frame
                        Grid.Row="0"
                        Grid.Column="1"
                        BorderColor="{StaticResource PrimaryColor}"
                        CornerRadius="5">
                        <StackLayout HorizontalOptions="Center">
                            <Label
                                Text="{x:Static resources:AppResources.EndDate}"
                                HorizontalOptions="Center">

                            </Label>
                            <DatePicker
                                Format="dd/MM/yyyy"
                                Date="{Binding EndDate}"
                                MaximumDate="{Binding MaximumDate}">

                            </DatePicker>
                        </StackLayout>
                    </Frame>
                    <Frame
                        Grid.Row="1"
                        Grid.Column="0"
                        BorderColor="{StaticResource PrimaryColor}"
                        CornerRadius="5">
                        <StackLayout>
                            <Label
                                Text="{x:Static resources:AppResources.FromPrice}"
                                HorizontalOptions="Center">

                            </Label>
                            <Entry
                                Keyboard="Numeric"
                                Text="{Binding TotalDesde, Mode=TwoWay}"
                                HorizontalTextAlignment="End">

                            </Entry>
                        </StackLayout>
                    </Frame>
                    <Frame
                        Grid.Row="1"
                        Grid.Column="1"
                        BorderColor="{StaticResource PrimaryColor}"
                        CornerRadius="5">
                        <StackLayout>
                            <Label
                                Text="{x:Static resources:AppResources.EndPrice}"
                                HorizontalOptions="Center">

                            </Label>
                            <Entry
                                    Keyboard="Numeric"
                                Text="{Binding TotalHasta, Mode=TwoWay}"
                                HorizontalTextAlignment="End">

                            </Entry>
                        </StackLayout>
                    </Frame>
                </Grid>
                <Button
                    Grid.Row="4"
                    Grid.ColumnSpan="2"
                    Text="{x:Static resources:AppResources.Accept}"
                    BackgroundColor="{StaticResource PrimaryColor}"
                    TextColor="White"
                    HorizontalOptions="Center"
                    Command="{Binding ApplyFiltersCommand}">
                    
                </Button>
            </Grid>
        </Frame>
    </StackLayout>
</Views:MvxContentPage>